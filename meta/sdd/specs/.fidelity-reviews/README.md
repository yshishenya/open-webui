# Implementation Fidelity Reviews Directory

This directory stores implementation fidelity review reports generated by the SDD toolkit's fidelity review tools.

## Purpose

The `.fidelity-reviews/` directory is used to store:
- Implementation fidelity reports comparing code against specifications
- Task-level fidelity assessments
- Phase-level fidelity summaries
- Deviation analysis and impact assessments
- Recommendations for remediation

## Why This Directory?

This directory centralizes all fidelity review outputs in a consistent location:
- Keeps fidelity reviews organized alongside other spec artifacts
- Enables review history and progress tracking
- Makes it easy to reference past assessments
- Separates implementation verification from spec reviews (sdd-plan-review)

## Usage

### Generated by sdd-fidelity-review

When you run fidelity review commands without `--output`, JSON artifacts are automatically saved here:

```bash
# Task-level fidelity review
sdd fidelity-review <spec-id> --task <task-id>
# Output: specs/.fidelity-reviews/<spec-id>-task-<task-id>-fidelity-review.json

# Phase-level fidelity review
sdd fidelity-review <spec-id> --phase <phase-id>
# Output: specs/.fidelity-reviews/<spec-id>-phase-<phase-id>-fidelity-review.json
```

The fidelity review process compares the actual code implementation against the specification requirements to identify deviations and assess their impact.

### Review Types

Fidelity reviews in this directory may include:

- **Task Reviews** - Individual task implementation verification
- **Phase Reviews** - Multiple tasks within a phase
- **Spec-wide Reviews** - Complete specification compliance (run phase-by-phase)

### Assessment Levels

Each fidelity review assesses implementation with one of:

- **Exact Match** (‚úÖ) - Implementation precisely matches specification
- **Minor Deviation** (‚ö†Ô∏è) - Small differences with no functional impact
- **Major Deviation** (‚ùå) - Significant differences affecting functionality
- **Missing Functionality** (üö´) - Specified features not implemented

## Managing Fidelity Reviews

### Cleaning Old Reviews

Fidelity reviews can accumulate over time. To clean old reviews:

```bash
# Remove markdown and JSON reviews older than 30 days
find specs/.fidelity-reviews \( -name "*.md" -o -name "*.json" \) -mtime +30 -delete
```

### Gitignore Consideration

By default, fidelity reviews are **not tracked in version control** because they are:
- Local verification artifacts
- Frequently regenerated during development
- Not needed in committed history

To track reviews (for team visibility):

```bash
# Remove from .gitignore if you want to track them
# Otherwise, leave as is
```

## Directory Structure

```
specs/.fidelity-reviews/
‚îú‚îÄ‚îÄ README.md                                           # This file
‚îú‚îÄ‚îÄ <spec-id>-task-<task-id>-fidelity-review.json       # Task-level review
‚îú‚îÄ‚îÄ <spec-id>-phase-<phase-id>-fidelity-review.json     # Phase-level review
‚îî‚îÄ‚îÄ <spec-id>-fidelity-review-<timestamp>.json          # Historical versions
```

## Typical Report Structure

Each fidelity review includes:

- **Summary** - Overview of tasks reviewed, files analyzed, and overall fidelity score
- **Fidelity Score** - Breakdown of exact matches, minor deviations, major deviations, and missing functionality
- **Detailed Findings** - Per-task assessment with specific deviations identified
- **Recommendations** - Suggested actions for remediation or approval
- **Journal Analysis** - Comparison of findings against documented deviations

## Related Tools

- **sdd-fidelity-review** - Verifies implementation matches specification
- **sdd-plan** - Creates specifications to be verified
- **sdd-update** - Documents deviations in task journals
- **run-tests** - Validates functional correctness of deviations

## Best Practices

1. **Review at Phase Boundaries** - Run fidelity reviews when completing phases to catch drift early
2. **Verify Critical Tasks** - High-risk tasks (auth, data handling) warrant individual task reviews
3. **Document Deviations** - Use sdd-update to journal any approved deviations
4. **Track Consensus** - Reviews consult multiple AI perspectives for balanced assessment
5. **Pre-PR Audit** - Run final fidelity review before creating pull requests

## Review vs Validation

**Validation** (sdd-validate):
- Structural correctness of specs
- Format compliance and consistency
- Dependency analysis

**Fidelity Review** (sdd-fidelity-review):
- Implementation matches specification
- Deviation detection and categorization
- Impact assessment of differences

Both are complementary - validate specs for correctness, review fidelity for compliance.

## Notes

- This directory is automatically created by the SDD toolkit
- Fidelity reviews are generated on-demand during development
- Reports are structured JSON format
- Reviews compare actual implementation against specification requirements
- Not tracked in version control by default (can be customized)
