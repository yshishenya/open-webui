# Local SDD toolkit AI configuration (project-scoped).
#
# Goal: make `sdd review` (sdd-plan-review) synthesis use a tool/model that is
# available in this environment. Without this, the synthesis step may pick a
# provider-specific model (e.g. Gemini) and then fail during fallback, even if
# Codex reviews succeeded.
#
# Feel free to adjust agent order to your preference.

sdd-plan-review:
  consultation:
    agent_priority:
      - codex
      - claude
      - opencode

sdd-render:
  tool_priority:
    - codex
    - opencode
  models:
    codex: gpt-5.3-codex
    opencode: openrouter/moonshotai/kimi-k2.5:free

sdd-fidelity-review:
  consultation:
    timeout_seconds: 600
  tool_priority:
    - codex
    - opencode
  models:
    # Use the real Codex model id (provider has fallback to other models on access errors).
    codex: gpt-5.3-codex
    # Prefer a free OpenRouter model via OpenCode; the OpenCode provider has a local fallback
    # for common auth errors (e.g. 401) to `opencode/big-pickle`.
    #
    # Other free models you can swap in (see `opencode models`):
    # - openrouter/z-ai/glm-4.7
    # - openrouter/minimax/minimax-m2.1
    # - openrouter/arcee-ai/trinity-large-preview:free
    # - opencode/big-pickle
    opencode: openrouter/moonshotai/kimi-k2.5:free
